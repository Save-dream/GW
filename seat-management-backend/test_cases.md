# 工位管理系统测试用例

## 测试目的
验证工位管理系统的各项功能是否正常运行，确保前后端联调正常，系统能够满足业务需求。

## 测试环境
- **后端服务**：http://localhost:8000
- **前端服务**：http://localhost:3001
- **数据库**：SQLite
- **浏览器**：Chrome/Firefox/Edge

## 测试账号
- **管理员账号**：用户名 `admin`，密码 `admin123`

## 测试模块

### 1. 认证模块

#### 测试用例 1.1：登录功能
- **测试步骤**：
  1. 打开前端登录页面
  2. 输入正确的用户名和密码
  3. 点击登录按钮
- **预期结果**：
  - 登录成功，跳转到系统首页
  - 浏览器存储JWT token

#### 测试用例 1.2：登录失败
- **测试步骤**：
  1. 打开前端登录页面
  2. 输入错误的用户名或密码
  3. 点击登录按钮
- **预期结果**：
  - 登录失败，显示错误提示信息
  - 不跳转到系统首页

### 2. 场地管理模块

#### 测试用例 2.1：创建场地
- **测试步骤**：
  1. 登录系统
  2. 进入场地管理页面
  3. 点击"新增场地"按钮
  4. 填写场地信息（名称、地址）
  5. 点击保存按钮
- **预期结果**：
  - 场地创建成功
  - 页面显示新创建的场地
  - 后端数据库中存在该场地记录

#### 测试用例 2.2：编辑场地
- **测试步骤**：
  1. 登录系统
  2. 进入场地管理页面
  3. 选择一个场地，点击"编辑"按钮
  4. 修改场地信息
  5. 点击保存按钮
- **预期结果**：
  - 场地信息更新成功
  - 页面显示更新后的场地信息
  - 后端数据库中场地记录已更新

#### 测试用例 2.3：删除场地
- **测试步骤**：
  1. 登录系统
  2. 进入场地管理页面
  3. 选择一个场地，点击"删除"按钮
  4. 确认删除操作
- **预期结果**：
  - 场地删除成功
  - 页面不再显示该场地
  - 后端数据库中场地记录已删除

### 3. 楼层管理模块

#### 测试用例 3.1：创建楼层
- **测试步骤**：
  1. 登录系统
  2. 进入楼层管理页面
  3. 选择一个场地
  4. 点击"新增楼层"按钮
  5. 填写楼层信息（楼层编号、楼层名称、图片URL）
  6. 点击保存按钮
- **预期结果**：
  - 楼层创建成功
  - 页面显示新创建的楼层
  - 后端数据库中存在该楼层记录

#### 测试用例 3.2：编辑楼层
- **测试步骤**：
  1. 登录系统
  2. 进入楼层管理页面
  3. 选择一个楼层，点击"编辑"按钮
  4. 修改楼层信息
  5. 点击保存按钮
- **预期结果**：
  - 楼层信息更新成功
  - 页面显示更新后的楼层信息
  - 后端数据库中楼层记录已更新

#### 测试用例 3.3：删除楼层
- **测试步骤**：
  1. 登录系统
  2. 进入楼层管理页面
  3. 选择一个楼层，点击"删除"按钮
  4. 确认删除操作
- **预期结果**：
  - 楼层删除成功
  - 页面不再显示该楼层
  - 后端数据库中楼层记录已删除

### 4. 区域管理模块

#### 测试用例 4.1：创建区域
- **测试步骤**：
  1. 登录系统
  2. 进入楼层详情页面
  3. 点击"新增区域"按钮
  4. 填写区域信息（区域编号、区域名称、区域类型、座位数）
  5. 点击保存按钮
- **预期结果**：
  - 区域创建成功
  - 页面显示新创建的区域
  - 后端数据库中存在该区域记录

#### 测试用例 4.2：编辑区域
- **测试步骤**：
  1. 登录系统
  2. 进入楼层详情页面
  3. 选择一个区域，点击"编辑"按钮
  4. 修改区域信息
  5. 点击保存按钮
- **预期结果**：
  - 区域信息更新成功
  - 页面显示更新后的区域信息
  - 后端数据库中区域记录已更新

#### 测试用例 4.3：删除区域
- **测试步骤**：
  1. 登录系统
  2. 进入楼层详情页面
  3. 选择一个区域，点击"删除"按钮
  4. 确认删除操作
- **预期结果**：
  - 区域删除成功
  - 页面不再显示该区域
  - 后端数据库中区域记录已删除

### 5. 工位管理模块

#### 测试用例 5.1：批量生成工位
- **测试步骤**：
  1. 登录系统
  2. 进入区域详情页面
  3. 点击"批量生成工位"按钮
  4. 输入生成数量
  5. 点击确认按钮
- **预期结果**：
  - 工位生成成功
  - 页面显示生成的工位列表
  - 后端数据库中存在相应的工位记录

#### 测试用例 5.2：绑定用户到工位
- **测试步骤**：
  1. 登录系统
  2. 进入区域详情页面
  3. 选择一个空闲工位，点击"绑定"按钮
  4. 搜索并选择一个用户
  5. 选择绑定类型
  6. 点击确认按钮
- **预期结果**：
  - 工位绑定成功
  - 工位状态变为"已占用"
  - 显示绑定的用户信息
  - 后端数据库中工位记录已更新
  - 生成绑定操作日志

#### 测试用例 5.3：解绑用户从工位
- **测试步骤**：
  1. 登录系统
  2. 进入区域详情页面
  3. 选择一个已绑定工位，点击"解绑"按钮
  4. 确认解绑操作
- **预期结果**：
  - 工位解绑成功
  - 工位状态变为"空闲"
  - 不再显示用户信息
  - 后端数据库中工位记录已更新
  - 生成解绑操作日志

#### 测试用例 5.4：更换工位
- **测试步骤**：
  1. 登录系统
  2. 进入工位管理页面
  3. 点击"更换工位"按钮
  4. 选择原工位和新工位
  5. 输入用户ID
  6. 点击确认按钮
- **预期结果**：
  - 工位更换成功
  - 原工位变为空闲
  - 新工位变为已占用并显示用户信息
  - 后端数据库中工位记录已更新
  - 生成更换操作日志

### 6. 人员管理模块

#### 测试用例 6.1：同步人员信息
- **测试步骤**：
  1. 登录系统
  2. 进入人员管理页面
  3. 点击"同步OA人员"按钮
  4. 等待同步完成
- **预期结果**：
  - 人员信息同步成功
  - 页面显示同步后的人员列表
  - 后端数据库中人员记录已更新

#### 测试用例 6.2：搜索人员
- **测试步骤**：
  1. 登录系统
  2. 进入人员管理页面
  3. 在搜索框中输入人员姓名或ID
  4. 点击搜索按钮
- **预期结果**：
  - 页面显示符合搜索条件的人员列表

### 7. 操作日志模块

#### 测试用例 7.1：查看操作日志
- **测试步骤**：
  1. 登录系统
  2. 进入操作日志页面
  3. 查看日志列表
  4. 使用筛选条件过滤日志
- **预期结果**：
  - 页面显示操作日志列表
  - 筛选功能正常工作
  - 日志内容完整准确

### 8. 员工端模块

#### 测试用例 8.1：查看我的工位
- **测试步骤**：
  1. 登录系统
  2. 进入"我的工位"页面
- **预期结果**：
  - 页面显示当前用户绑定的所有工位
  - 包含工位详细信息（位置、状态等）

#### 测试用例 8.2：查看楼层列表
- **测试步骤**：
  1. 登录系统
  2. 进入"楼层列表"页面
- **预期结果**：
  - 页面显示所有楼层列表
  - 包含楼层基本信息

#### 测试用例 8.3：查看楼层详情
- **测试步骤**：
  1. 登录系统
  2. 进入"楼层列表"页面
  3. 选择一个楼层，点击"查看详情"按钮
- **预期结果**：
  - 页面显示楼层详细信息
  - 包含楼层平面图和区域分布

#### 测试用例 8.4：全局搜索
- **测试步骤**：
  1. 登录系统
  2. 在顶部搜索框中输入搜索关键词
  3. 点击搜索按钮
- **预期结果**：
  - 页面显示搜索结果
  - 包含人员和工位的搜索结果

### 9. OA集成模块

#### 测试用例 9.1：Webhook事件接收
- **测试步骤**：
  1. 使用API工具向 `/api/webhook/oa/event` 发送POST请求
  2. 包含事件类型和事件数据
- **预期结果**：
  - 后端成功接收并处理Webhook事件
  - 数据库中存在Webhook事件记录
  - 相关人员信息已更新（如果是人员变更事件）

## 测试结果记录

| 测试用例 | 测试结果 | 备注 |
|---------|---------|------|
| 1.1 |  |  |
| 1.2 |  |  |
| 2.1 |  |  |
| 2.2 |  |  |
| 2.3 |  |  |
| 3.1 |  |  |
| 3.2 |  |  |
| 3.3 |  |  |
| 4.1 |  |  |
| 4.2 |  |  |
| 4.3 |  |  |
| 5.1 |  |  |
| 5.2 |  |  |
| 5.3 |  |  |
| 5.4 |  |  |
| 6.1 |  |  |
| 6.2 |  |  |
| 7.1 |  |  |
| 8.1 |  |  |
| 8.2 |  |  |
| 8.3 |  |  |
| 8.4 |  |  |
| 9.1 |  |  |

## 测试总结

### 功能测试结果
- 共测试 **23** 个用例
- 通过 **0** 个用例
- 失败 **0** 个用例
- 未测试 **23** 个用例

### 问题记录

### 改进建议

### 测试结论

